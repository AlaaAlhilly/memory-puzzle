(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,s){},106:function(e,s,t){},107:function(e,s,t){"use strict";t.r(s);var a=t(0),i=t.n(a),c=t(45),r=t.n(c),n=t(3),m=t(4),o=t(6),l=t(5),g=t(7),u=t(46),p=t.n(u),d=t(2);t(53);var h=function(e){var s=e.name;return"guessed"===e.className&&"true"===e.disabled?i.a.createElement("div",{role:"img",className:"click-item",name:e.name,style:{backgroundImage:"url("+e.src+")"}}):i.a.createElement("div",{role:"img",className:"click-item",name:e.name,onClick:function(){return e.handleClickEvent(s,e.index)},style:{backgroundImage:"url("+e.src+")"}})},f=(t(54),function(e){function s(){return Object(n.a)(this,s),Object(o.a)(this,Object(l.a)(s).apply(this,arguments))}return Object(g.a)(s,e),Object(m.a)(s,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",{style:{fontSize:20}},this.props.value,":",this.props.seconds))}}]),s}(i.a.Component));var _=function(e){return i.a.createElement("nav",{className:"navbar"},i.a.createElement("ul",null,i.a.createElement("li",{className:"brand"},i.a.createElement("a",{href:"/"},"Memory Game")),i.a.createElement("li",null,i.a.createElement(f,{value:e.value,seconds:e.seconds}))))},j=(t(55),t(8)),b=function(e){function s(){return Object(n.a)(this,s),Object(o.a)(this,Object(l.a)(s).apply(this,arguments))}return Object(g.a)(s,e),Object(m.a)(s,[{key:"render",value:function(){return i.a.createElement("div",{style:{marginLeft:130}},i.a.createElement("button",{className:"btn btn-lg btn-success",onClick:this.props.startTheGame},"Start"))}}]),s}(i.a.Component);t(56);var v=function(e){return i.a.createElement("div",{className:"col-sm-2 col-md-2 col-lg-2 left_p"},i.a.createElement("img",{src:e.picture,alt:e.name,style:{borderRadius:"50%"}}),i.a.createElement("ul",{className:"list-unstyled components"},i.a.createElement("p",null,e.name),i.a.createElement("li",{className:"left"},"Score: ",e.score),i.a.createElement("li",{className:"left"},"Highest Score: ",e.highest_score)))},N=(t(57),t(24)),x=t.n(N);var I=function(e){var s=[];return e.high_scores.forEach(function(e){s.push(i.a.createElement("li",{key:x()(),className:"list-group-item d-flex justify-content-between align-items-center"},i.a.createElement("img",{src:e.picture,style:{borderRadius:"50%"}}),e.name,i.a.createElement("span",{className:"badge badge-primary badge-pill"},e.high_score)))}),i.a.createElement("div",{className:"col-sm-2 col-md-2 col-lg-3 right_p"},i.a.createElement("ul",{className:"list-group"},i.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},"High Scores:"),s))},G=t(25),T=t.n(G),E=t(13),y=t.n(E),k=t(18),O=t.n(k),S={getScores:function(){return O.a.get("/api/high_scores")},saveScore:function(e){return O.a.post("/api/high_scores",e)},highestScore:function(e){return O.a.get("/api/high_scores/"+e)}},w=t(47),C=t.n(w),M=t(24),D=function(e){function s(e){var t;return Object(n.a)(this,s),(t=Object(o.a)(this,Object(l.a)(s).call(this,e))).re_sort_images=function(e){for(var s=e.length,t=[],a=0;a<s-1;a++)t.push(e.splice(Math.floor(Math.random()*e.length),1)[0]);return t.push(e[0]),e=t},t.handleClickEvent=function(e,s){if(!(t.indexes_guessed.includes(s)||t.indexes_guessed.length>=2)){t.sec_bonus.push(y()()),t.indexes_guessed.push(s);var a=t.get_saved_images_that_clicked();if(0===Object.keys(t.state.items).length)return a[e]=1,void t.update_with_first_guess(s,e,a);t.state.items[e]?t.update_the_state_correct_guess(s):(t.sec_bonus=[],t.update_the_state_incorrect_guess(s))}},t.expose_image=function(e){var s=t.get_copy_of_saved_images();return s[e].src=s[e].src2,s},t.update_with_first_guess=function(e,s,a){a[s]=1;var i=t.expose_image(e);t.setState({images:Array.from(i),items:a})},t.update_the_state_incorrect_guess=function(e){var s=t.expose_image(e);t.setState({images:Array.from(s)}),setTimeout(function(){t.hide_exposed_images()},1e3)},t.hide_exposed_images=function(){for(var e=t.get_copy_of_saved_images(),s=0;s<t.indexes_guessed.length;s++)e[t.indexes_guessed[s]].src=t.state.image_mask,e[t.indexes_guessed[s]].disabled="false";t.indexes_guessed=[],t.setState({images:Array.from(e),items:{}})},t.get_fast_guess_bunos=function(){var e=0,s=60*parseInt(t.state.value)+parseInt(t.state.seconds),a=y()(t.sec_bonus[1],"DD/MM/YYYY HH:mm:ss").diff(y()(t.sec_bonus[0],"DD/MM/YYYY HH:mm:ss")),i=y.a.duration(a);return i.seconds()<=s/(j.length-t.correct_counter)&&(e=i.seconds()/(s/(j.length-t.correct_counter)),e=100-parseInt(10*e)),t.correct_counter==j.length-2?t.win_the_game():t.correct_counter+=2,t.sec_bonus=[],e},t.update_the_state_correct_guess=function(e){var s=t.get_fast_guess_bunos(),a=t.expose_image(e);t.setState({images:a});var i=t.disable_correct_guessed_images();t.indexes_guessed=[],t.setState({score:t.state.score+10+s,items:{},images:i})},t.get_copy_of_saved_images=function(){return Array.from(t.state.images)},t.disable_correct_guessed_images=function(){for(var e=t.get_copy_of_saved_images(),s=0;s<t.indexes_guessed.length;s++)e[t.indexes_guessed[s]].disabled="true",e[t.indexes_guessed[s]].className="guessed";return e},t.get_saved_images_that_clicked=function(){return Object.assign({},t.state.items)},t.reset_the_images_states=function(){j.forEach(function(e){e.src=t.state.image_mask,e.disabled="false",e.className=""})},t.activate_half_time_bonus=function(){var e=Object(d.a)(Object(d.a)(t));t.time_out=setTimeout(function(){e.correct_counter>=j.length/2&&e.setState({score:e.state.score+5*e.correct_counter}),console.log(e.state.score+" "+e.correct_counter)},6e4)},t.get_this_user_highest_score=function(){S.highestScore(t.props.userId).then(function(e){e.data&&t.setState({high_score:e.data.high_score})}).catch(function(e){return console.log(e)})},t.save_this_score=function(){var e={userId:t.props.userId,name:t.props.name,picture:t.props.picture,high_score:t.state.score};S.saveScore(e).then(function(e){t.get_this_user_highest_score()})},t.startTheGame=function(){t.get_this_user_highest_score(),t.reset_the_images_states(),t.setState({value:"2",seconds:"00",items:{},images:t.re_sort_images(Array.from(j))}),t.activate_half_time_bonus(),t.startCountDown()},t.gameOver=function(){T()("times up",{buttons:{cancel:!0,confirm:!0},closeOnClickOutside:!1}).then(function(e){e?(t.save_this_score(),t.indexes_guessed=[],t.correct_counter=0,t.sec_bonus=[],e&&t.startTheGame()):window.location.reload()})},t.win_the_game=function(){T()("Congrats you won the game",{buttons:{cancel:!0,confirm:!0},closeOnClickOutside:!1}).then(function(e){e?(t.save_this_score(),t.indexes_guessed=[],t.correct_counter=0,t.sec_bonus=[],e&&t.startTheGame()):window.location.reload()})},t.fill_divs_with_images=function(){var e=[];return t.state.images.forEach(function(s,a){e.push(i.a.createElement(h,{className:s.className,disabled:s.disabled,index:a,src:s.src,name:s.name,key:M(),handleClickEvent:t.handleClickEvent}))}),e},t.state={score:0,items:{},images:[],seconds:"00",value:"2",isClicked:!1,highScores:[],image_mask:"https://i.imgur.com/ITxiG5s.jpg",endpoint:"http://localhost:3001/",high_score:0},t.time_out=null,t.correct_counter=0,t.indexes_guessed=[],t.sec_bonus=[],t.secondsRemaining=null,t.intervalHandle=null,t.handleChange=t.handleChange.bind(Object(d.a)(Object(d.a)(t))),t.startCountDown=t.startCountDown.bind(Object(d.a)(Object(d.a)(t))),t.timing=t.timing.bind(Object(d.a)(Object(d.a)(t))),t}return Object(g.a)(s,e),Object(m.a)(s,[{key:"componentDidMount",value:function(){var e=this,s=this.state.endpoint;C()(s).on("FromAPI",function(s){e.setState({highScores:s})})}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"timing",value:function(){var e=Math.floor(this.secondsRemaining/60),s=this.secondsRemaining-60*e;this.setState({value:e,seconds:s}),s<10&&this.setState({seconds:"0"+this.state.seconds}),e<10&&this.setState({value:"0"+e}),0===e&&0===s&&(clearInterval(this.intervalHandle),console.log(e+" "+s),this.gameOver()),this.secondsRemaining--}},{key:"startCountDown",value:function(){this.intervalHandle=setInterval(this.timing,1e3);var e=this.state.value;this.secondsRemaining=60*e,this.setState({isClicked:!0})}},{key:"render",value:function(){if(this.state.isClicked){var e=this.fill_divs_with_images();return i.a.createElement("div",null,i.a.createElement(_,{value:this.state.value,seconds:this.state.seconds}),i.a.createElement("main",{className:"container-fluid",style:{marginTop:"20px"}},i.a.createElement("div",{className:"row"},i.a.createElement(v,{picture:this.props.picture,name:this.props.name,score:this.state.score,highest_score:this.state.high_score}),i.a.createElement("div",{className:"col-sm-8 col-md-8 col-lg-7"},e),i.a.createElement(I,{high_scores:this.state.highScores}))))}return i.a.createElement("div",{className:"container",style:{paddingLeft:"0"}},i.a.createElement(b,{startTheGame:this.startTheGame}))}}]),s}(a.Component),A=(t(106),function(e){function s(){var e,t;Object(n.a)(this,s);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(l.a)(s)).call.apply(e,[this].concat(i)))).state={isLoggedIn:!1,userID:"",name:"",email:"",picture:""},t.responseFacebook=function(e){console.log(e),t.setState({isLoggedIn:!0,userID:e.userID,name:e.name,email:e.email,picture:e.picture.data.url})},t.componentClicked=function(){return console.log("clicked")},t}return Object(g.a)(s,e),Object(m.a)(s,[{key:"render",value:function(){var e;return e=this.state.isLoggedIn?i.a.createElement(D,{name:this.state.name,picture:this.state.picture,userId:this.state.userID}):i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-9 col-md-7 col-lg-12 mx-auto"},i.a.createElement("h1",null,"Memory Puzzle Game"),i.a.createElement("div",{className:"card card-signin my-5"},i.a.createElement("div",{className:"card-body"},i.a.createElement("h5",{className:"card-title text-center"},"Play and make friends"),i.a.createElement("form",{className:"form-signin text-center"},i.a.createElement(p.a,{appId:"431641760905167",autoLoad:!0,fields:"name,email,picture",onClick:this.componentClicked,callback:this.responseFacebook}))))))),i.a.createElement("div",null,e)}}]),s}(a.Component));var K=function(){return i.a.createElement(A,null)};r.a.render(i.a.createElement(K,null),document.getElementById("root"))},48:function(e,s,t){e.exports=t(107)},53:function(e,s,t){},54:function(e,s,t){},55:function(e,s,t){},56:function(e,s,t){},57:function(e,s,t){},8:function(e){e.exports=[{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/KivfAuK.jpg",name:"2",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/ZD5hVAl.jpg",name:"3",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/Cw6k1yD.jpg",name:"1",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/KdLsvX5.jpg",name:"4",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/76fJgqa.jpg",name:"5",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/oVpuo0f.jpg",name:"6",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/I3S7t2e.jpg",name:"7",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/ihQirdA.jpg",name:"8",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/PyfyOP1.jpg",name:"9",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/6XjYmXw.jpg",name:"10",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/ljO1AMt.jpg",name:"11",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/Qc6yUtp.jpg",name:"12",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/eHN8N9s.jpg",name:"13",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/XeaMyYG.jpg",name:"14",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/htN88Zv.jpg",name:"15",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/O5nm9MM.jpg",name:"16",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/mS88d2B.jpg",name:"17",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/zGlcUqv.jpg",name:"18",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/4KhdsM5.jpg",name:"19",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/z0TBFjf.jpg",name:"20",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/EDrGKkJ.jpg",name:"21",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/VsgYXKy.jpg",name:"22",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/id4wS1J.jpg",name:"23",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/BgK25IL.jpg",name:"24",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/Cw6k1yD.jpg",name:"1",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/KivfAuK.jpg",name:"2",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/ZD5hVAl.jpg",name:"3",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/KdLsvX5.jpg",name:"4",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/76fJgqa.jpg",name:"5",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/oVpuo0f.jpg",name:"6",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/I3S7t2e.jpg",name:"7",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/ihQirdA.jpg",name:"8",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/PyfyOP1.jpg",name:"9",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/6XjYmXw.jpg",name:"10",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/ljO1AMt.jpg",name:"11",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/Qc6yUtp.jpg",name:"12",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/eHN8N9s.jpg",name:"13",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/XeaMyYG.jpg",name:"14",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/htN88Zv.jpg",name:"15",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/O5nm9MM.jpg",name:"16",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/mS88d2B.jpg",name:"17",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/zGlcUqv.jpg",name:"18",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/4KhdsM5.jpg",name:"19",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/z0TBFjf.jpg",name:"20",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/EDrGKkJ.jpg",name:"21",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/VsgYXKy.jpg",name:"22",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/id4wS1J.jpg",name:"23",className:"",disabled:"false"},{src:"https://i.imgur.com/ITxiG5s.jpg",src2:"https://i.imgur.com/BgK25IL.jpg",name:"24",className:"",disabled:"false"}]}},[[48,1,2]]]);
//# sourceMappingURL=main.232d2485.chunk.js.map